(this["webpackJsonp4chan-image-scroller-client"]=this["webpackJsonp4chan-image-scroller-client"]||[]).push([[0],{11:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(3),o=c.n(n),r=c(4),l=(c(9),c(1));var i=()=>{const[e,t]=Object(a.useState)("g"),[c,s]=Object(a.useState)([]),[n,o]=Object(a.useState)(!0),[i,h]=Object(a.useState)(0),[d,j]=Object(a.useState)([]),b="http://image-scroller-backend-env.us-east-1.elasticbeanstalk.com";Object(a.useEffect)((()=>{(async()=>{try{const t=await fetch("".concat(b,"/thread-numbers?board=").concat(e)),c=await t.json();j(c),h(0),s([]),o(!0)}catch(t){console.error("Failed to fetch thread numbers:",t)}})()}),[e,b]),Object(a.useEffect)((()=>{(async()=>{if(d.length>0)try{let t=[];const c=d.slice(0,5);for(const a of c){const c=await fetch("".concat(b,"/images?board=").concat(e,"&thread=").concat(a)),s=await c.json();t=[...t,...s]}s(t),h(1)}catch(t){console.error("Failed to fetch initial images:",t)}})()}),[d,e,b]);return Object(l.jsxs)("div",{className:"image-scroller",children:[Object(l.jsx)("h1",{children:"Image Scroller"}),Object(l.jsx)("label",{htmlFor:"board-selector",children:"Select Board: "}),Object(l.jsxs)("select",{id:"board-selector",value:e,onChange:e=>t(e.target.value),children:[Object(l.jsx)("option",{value:"g",children:"/g/ - Technology"}),Object(l.jsx)("option",{value:"v",children:"/v/ - Video Games"})]}),Object(l.jsx)(r.a,{dataLength:c.length,next:async()=>{if(5*i>=d.length)o(!1);else try{let t=[];const a=d.slice(5*i,5*(i+1));for(const c of a){const a=await fetch("".concat(b,"/images?board=").concat(e,"&thread=").concat(c)),s=await a.json();t=[...t,...s]}s([...c,...t]),h(i+1)}catch(t){console.error("Failed to fetch more images:",t)}},hasMore:n,loader:Object(l.jsx)("h4",{children:"Loading..."}),endMessage:Object(l.jsx)("p",{children:"No more images"}),children:Object(l.jsx)("div",{className:"images",children:c.map(((e,t)=>Object(l.jsx)("div",{className:"image-container",children:Object(l.jsx)("img",{src:"".concat(b,"/image?url=").concat(encodeURIComponent(e)),alt:"Image ".concat(t)})},t)))})})]})};o.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(i,{})}),document.getElementById("root"))},9:function(e,t,c){}},[[11,1,2]]]);
//# sourceMappingURL=main.fc2986ff.chunk.js.map